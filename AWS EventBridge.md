# Amazon EventBridge (Default event bus)<!-- omit in toc -->

## Contents <!-- omit in toc -->

- [1. Introduction](#1-introduction)
- [2. Amazon EventBridge (formerly CloudWatch Events)](#2-amazon-eventbridge-formerly-cloudwatch-events)
- [3. EventBridge rules](#3-eventbridge-rules)
- [4. Schema Registry](#4-schema-registry)
- [5. Resource-based Policy](#5-resource-based-policy)
- [6. Amazon EventBridge vs CloudWatch Events](#6-amazon-eventbridge-vs-cloudwatch-events)

# 1. Introduction

- Is a serverless event bus that makes it easier to build event-driven applications at scale using events generated from your applications, integrated Software-as-a-Service (SaaS) applications, and AWS services.
- Delivers a stream of real-time data from event sources such as Zendesk or Shopify to targets like AWS Lambda and other SaaS applications.
- You can set up routing rules to determine where to send your data to build application architectures that react in real-time to your data sources with event publisher and consumer completely decoupled.

# 2. Amazon EventBridge (formerly CloudWatch Events)

- Schedule: Cron jobs (scheduled scripts).
  - Schedule Every hour -> Trigger script on Lambda function.
- Event Pattern: Event rules to react to a service doing something.
  - IAM Root User Sign in Event -> SNS Topic with Email Notification.
- Trigger Lambda functions, send SQS/SNS messages...
- **Default event bus**: generated by AWS services (CloudWatch Events).
- **Partner event bus**: receive events from SaaS service or applications (Zendesk, DataDog, Segment, Auth0...).
- Custom Event buses: for your own applications.
- Schema Registry: model event schema.
- Event buses can be accessed by other AWS accounts.
- You can **archive events** (all/filter) sent to an event bus (indefinitely or set period).
- Ability to **replay archived events**.
- Rules: how to process the events (like CloudWatch Events).
- EventBridge has a different name to mark the new capabilities.

# 3. EventBridge rules

- Example Source
  - EC2 Instance
    - (ex: Start Instance)
  - CodeBuild
    - (ex: failed build)
  - S3 Event
    - (ex: upload object)
  - Trusted Advisor
    - (ex: new Finding)
  - CloudTrail
    - (any API call)
  - Schedule or Cron
    - (ex: every 4 hours)
- Example Destinations
  - Lambda
  - AWS Batch
  - ECS Task
  - SQS SNS Kinesis Data
  - Streams
  - Step
  - Functions
  - CodePipeline CodeBuild
  - SSM EC2 Actions

# 4. Schema Registry

- EventBridge can analyze the events in your bus and infer the **schema**.
- The **Schema Registry** allows you to generate code for your application, that will know in advance how data is structured in the event bus.
- Schema can be versioned.

# 5. Resource-based Policy

- Manage permissions for a specific Event Bus.
- Example: allow/deny events from another AWS account or AWS region.
- Use case: aggregate all events from your AWS Organization in a single AWS account or AWS region.

# 6. Amazon EventBridge vs CloudWatch Events

- Amazon EventBridge builds upon and extends CloudWatch Events.
- It uses the same service API and endpoint, and the same underlying service infrastructure.
- EventBridge allows extension to add event buses for your custom applications and your third-party SaaS apps.
- Event Bridge has the Schema Registry capability.
- EventBridge has a different name to mark the new capabilities.
- Over time, the CloudWatch Events name will be replaced with EventBridge.
